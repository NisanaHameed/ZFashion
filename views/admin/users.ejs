<%- include('../layouts/admin/header.ejs') -%>

<div class="container mt-5">
<div class="row mt-5">
    <div class="col-12 grid-margin">
      <div class="card" style="box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);">
        <div class="card-body">
          <h4 class="card-title">Users</h4>
          <div class="table-responsive">
            <table class="table">
              <thead>
                <tr>
                  <th>
                  </th>
                  <th> Name </th>
                  <th> Email </th>
                  <th> Mobile No</th>                 
                  <th> Action </th>                
                </tr>
              </thead>
              <tbody>
                <%
                if(users.length>0){ %>
                <% for(let i=0; i<users.length; i++){ 
                  %>
                  <tr>
                    <td><%= i+1 %>                    
                    </td>                    
                    <td><%= users[i].name %></td>
                    <td><%= users[i].email %></td>
                    <td><%= users[i].mobile %></td>
                    <td> 
                      <a href="/admin/blockUser/<%= users[i]._id %>" class="btn <%= users[i].isBlock ? 'btn-outline-danger' : 'btn-outline-success' %>">
                        <% if(users[i].isBlock){
                          %>
                          Unblock
                        <% } else {
                          %>
                          Block
                        <%
                        }
                        %>
                        
                      </a>
                    </td>
                  </tr>
                  <%
                } %>
                <% } else{
                  %>
                    <tr>
                      <td>Users not found</td>
                    </tr>
                  <%
                }
                %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<%- include('../layouts/admin/footer.ejs') -%>