<%- include('../layouts/admin/header.ejs') -%>
    <div class="main-panel">
        <div class="row justify-content-end mt-5">
            <!-- <a href="/admin/downloadSalesReport" class="btn btn-success mr-3" download>Download</a> -->
            <button type="button" class="btn btn-primary dropdown-toggle mr-5" data-toggle="dropdown">
                Filter
            </button>
            <form id="dateFilterForm" class="dropdown-menu p-3" method="get">
                <div class="form-row">
                    <div class="form-group col-md-6">
                        <label for="startDate">Start Date</label>
                        <input type="date" class="form-control" id="startDate" name="startDate" required>
                    </div>
                    <div class="form-group col-md-6">
                        <label for="endDate">End Date</label>
                        <input type="date" class="form-control" id="endDate" name="endDate" required>
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">Apply</button>
            </form>
        </div>
        <div class="row mt-5">
            <div class="col-12 grid-margin">
                <div class="card" style="box-shadow: 0 0 10px rgba(0, 0, 0, 0.4);">
                    <div class="card-body">
                        <h4 class="card-title">Sales Report</h4>
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th> No </th>
                                        <th> Product Name </th>
                                        <th> Category </th>
                                        <th> Count </th>
                                        <th> Amount </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <% if(salesReport){ %>
                                        <% for(let i=0;i<salesReport.length;i++){ %>
                                            <tr>
                                                <td>
                                                    <%= i+1 %>
                                                </td>
                                                <td>
                                                    <%= salesReport[i]._id.product_name %>
                                                </td>
                                                <td>
                                                    <%= salesReport[i]._id.Category %>
                                                </td>
                                                <td>
                                                    <%= salesReport[i].totalSales %>
                                                </td>
                                                <td>
                                                    <%= salesReport[i].totalAmount %>
                                                </td>
                                            </tr>
                                            <% } %>
                                                <% } %>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-12 text-center" id="pagination">
                <div class="product__pagination">
                    <a class="active px-1" href="#"></a>
                    <a href="#"></a>
                </div>
            </div>
        </div>

    </div>
    <%- include('../layouts/admin/footer.ejs') -%>